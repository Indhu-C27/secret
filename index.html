<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Be My Valentine â¤ï¸</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
min-height:100vh;
background:linear-gradient(135deg,#ff4e8a,#ff99c8);
font-family:Arial,sans-serif;
text-align:center;
color:white;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
padding:20px;
overflow:hidden;
}

h1{font-size:28px;margin-bottom:10px;}
h3{margin:20px 0 10px;}

.buttons{
position:relative;
width:90%;
max-width:320px;
height:140px;
margin-top:20px;
}

.buttons button{
padding:12px 24px;
border:none;
border-radius:25px;
cursor:pointer;
position:absolute;
font-size:16px;
}

#yesBtn{background:#ff0066;color:white;left:15%;top:40%;}
#noBtn{background:white;color:#ff0066;left:55%;top:40%;}

.message,
.playlist,
.image-buttons,
.love-letter-btn{
display:none;
margin-top:15px;
width:100%;
max-width:900px;
}

.button-row{
display:flex;
flex-wrap:wrap;
justify-content:center;
gap:12px;
margin-top:10px;
}

.button-row button{
padding:10px 18px;
border-radius:20px;
border:none;
cursor:pointer;
background:white;
color:#ff0066;
font-size:14px;
white-space:nowrap;
}

.love-letter-btn button{
padding:12px 24px;
border-radius:25px;
border:none;
cursor:pointer;
background:white;
color:#ff0066;
font-size:15px;
}

.popup{
position:fixed;
inset:0;
background:rgba(0,0,0,0.85);
display:none;
justify-content:center;
align-items:center;
flex-direction:column;
z-index:999;
padding:20px;
}

.popup img{
width:90%;
max-width:320px;
border-radius:15px;
margin-bottom:15px;
}

.popup-text{
background:white;
color:#ff0066;
padding:20px;
border-radius:15px;
max-width:90%;
margin-bottom:15px;
line-height:1.6;
white-space:pre-line;
}

.close-btn{
padding:8px 20px;
border:none;
border-radius:20px;
background:#ff0066;
color:white;
cursor:pointer;
}

/* Burst hearts */
.burst-heart{
position:fixed;
font-size:25px;
pointer-events:none;
animation:burst 1.2s ease-out forwards;
}

@keyframes burst{
0%{transform:scale(0.5);opacity:1;}
100%{transform:translate(var(--x),var(--y)) scale(1.5);opacity:0;}
}

/* Falling items */
.fall-item{
position:fixed;
top:-30px;
pointer-events:none;
animation:fallDown linear forwards;
will-change:transform;
}

.love-gif {
position: fixed;
width: 120px;
height: 120px;
object-fit: cover;
border-radius: 15px;
z-index: 998;
pointer-events: none;
animation: gifPop 3s ease-out forwards;
}

@keyframes gifPop {
0% { transform: scale(0.5); opacity: 0; }
20% { transform: scale(1); opacity: 1; }
80% { transform: scale(1); opacity: 1; }
100% { transform: scale(0.8); opacity: 0; }
}

@media (max-width:600px){
.love-gif{
width:90px;
height:90px;
}
}

@keyframes fallDown{
0%{
transform:translateY(0) rotate(0deg);
opacity:1;
}
100%{
transform:translateY(120vh) rotate(360deg);
opacity:0.9;
}
}

@media (max-width:600px){
h1{font-size:22px;}
.button-row button{
font-size:13px;
padding:8px 14px;
}
}
</style>
</head>

<body>

<h1>Will You Be My Valentine? ğŸ’–</h1>

<div class="buttons">
<button id="yesBtn">Yes â¤ï¸</button>
<button id="noBtn">No ğŸ˜¢</button>
</div>

<div class="message" id="loveMessage">
I knew you would say YES! ğŸ˜â¤ï¸
</div>

<div class="playlist" id="playlist">
<h3>Choose Our Song ğŸ’•</h3>
<div class="button-row">
<button onclick="playSong('love1.mp3')">Ur Fav â–¶</button>
<button onclick="playSong('love2.mp3')">Manifesting â¤ï¸ â–¶</button>
<button onclick="playSong('love3.mp3')">Our Fav ğŸ’™ â–¶</button>
<button onclick="playSong('love4.mp3')">Everytime we meet ğŸ˜˜ â–¶</button>
<button onclick="playSong('love5.mp3')">My Man ğŸ©µ â–¶</button>
<button onclick="playSong('love6.mp3')">Alagii ğŸ’• â–¶</button>
</div>
</div>

<div class="image-buttons" id="imageButtons">
<h3>Open Our Memories ğŸ“¸</h3>
<div class="button-row">
<button onclick="openImage('photo1.jpg','This is our dream life together ğŸ’•','memory1.mp3')">Dream DayğŸ©µğŸ¥°</button>
<button onclick="openImage('photo2.jpg','Every moment with you is magical âœ¨','memory2.mp3')">Memorable one(first stay i think soğŸ˜‚ğŸ˜)</button>
<button onclick="openImage('photo3.jpg','Your smile is my favorite view ğŸ˜','memory3.mp3')">EnnavanğŸ¥°ğŸ˜˜ğŸ˜˜ğŸ˜˜ğŸ˜˜ğŸ˜˜</button>
<button onclick="openImage('photo4.jpg','Long way to go to capture the memoriesğŸ˜','memory4.mp3')">Happy momentsğŸ’™ğŸ«‚ğŸ’–</button>
<button onclick="openImage('photo5.jpg','à®à®©à¯ˆà®¯à®¾à®³à¯à®®à¯ à®à®œà®®à®¾à®©à¯‡','memory5.mp3')">ğŸ’™ğŸ«‚ğŸ’–</button>
</div>
</div>

<div class="love-letter-btn" id="loveLetterBtn">
<button onclick="openLoveLetter()">ğŸ’Œ Open My Love Letter</button>
</div>

<div class="popup" id="popup">
<img id="popupImg">
<div class="popup-text" id="popupText"></div>
<button class="close-btn" onclick="closePopup()">Close â¤ï¸</button>
</div>

<div class="popup" id="loveLetterPopup">
<div class="popup-text">
<p id="typeText"></p>
</div>
<button class="close-btn" onclick="closeLoveLetter()">Close â¤ï¸</button>
</div>

<audio id="mainAudio"></audio>

<script>
/* ================= GLOBAL VARIABLES ================= */
const loveGifs = [
"https://i.giphy.com/media/l0HlBO7eyXzSZkJri/giphy.gif",
"https://i.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif",
"https://i.giphy.com/media/26BRv0ThflsHCqDrG/giphy.gif",
"https://i.giphy.com/media/3oz8xIsloV7zOmt81G/giphy.gif"
];

const audio = document.getElementById("mainAudio");
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const message = document.getElementById("loveMessage");
const playlist = document.getElementById("playlist");
const imageButtons = document.getElementById("imageButtons");
const loveLetterBtn = document.getElementById("loveLetterBtn");
const popup = document.getElementById("popup");
const popupImg = document.getElementById("popupImg");
const popupText = document.getElementById("popupText");
const lovePopup = document.getElementById("loveLetterPopup");
const typeText = document.getElementById("typeText");

let showerInterval = null;
let typingInterval = null;
let yesFallInterval = null;
let gifInterval = null;

/* ================= AUDIO ================= */
function playSong(file){
    audio.pause();
    audio.currentTime=0;
    audio.src=file;
    audio.load();
    audio.play().catch(()=>{});
}

/* ================= IMAGE POPUP ================= */
function openImage(img,text,musicFile){
    audio.pause();
    audio.currentTime=0;
    audio.src=musicFile;
    audio.load();
    audio.play().catch(()=>{});
    popup.style.display="flex";
    popupImg.src=img;
    popupText.innerText=text;
}
function closePopup(){
    popup.style.display="none";
    audio.pause();
    audio.currentTime=0;
}

/* ================= LOVE LETTER ================= */
const loveParagraph=`My Alagiii â¤ï¸,

From the moment you entered my life,
everything became brighter and meaningful.

Your smile is my peace.
Your voice is my comfort.
Your presence is my happiest place.

I donâ€™t just love youâ€¦
I choose you.
Today. Tomorrow. Forever. ğŸ’â¤ï¸
Happy Valentine my EverythingğŸ’™.
Hope Everything will be fine OnedayğŸ«‚ğŸ’™.
Love you forever ButtuğŸ’“ğŸ¥°

Ennil inaiya unnai adaiya
enna thavangal seidheno <3
ğŸ©µğŸ˜
`;

function openLoveLetter(){
    lovePopup.style.display="flex";
    playSong("letterMusic.mp3");
    startTyping();
    startShower();
}
function closeLoveLetter(){
    lovePopup.style.display="none";
    typeText.innerHTML="";
    clearInterval(showerInterval);
    clearInterval(typingInterval);
    clearInterval(gifInterval);
    audio.pause();
    audio.currentTime=0;
}

/* Typing effect */
function startTyping(){
    let i=0;
    typeText.innerHTML="";
    typingInterval=setInterval(()=>{
        if(i<loveParagraph.length){
            typeText.innerHTML+=loveParagraph.charAt(i);
            i++;
        }else{
            clearInterval(typingInterval);
        }
    },40);
}

/* Falling hearts / roses */
function startShower(){
    clearInterval(showerInterval);
    showerInterval=setInterval(()=>{
        const item=document.createElement("div");
        item.className="fall-item";
        item.innerHTML=Math.random()>0.5?"â¤ï¸":"ğŸŒ¹";
        item.style.left=Math.random()*100+"vw";
        item.style.animationDuration=(Math.random()*3+3)+"s";
        item.style.fontSize=(Math.random()*12+18)+"px";
        document.body.appendChild(item);
        setTimeout(()=>item.remove(),6000);
    },300);
}

/* NO BUTTON ESCAPE */
function moveNoButton(){
    const container=document.querySelector(".buttons");
    const maxX=container.clientWidth-noBtn.offsetWidth;
    const maxY=container.clientHeight-noBtn.offsetHeight;
    noBtn.style.left=Math.random()*maxX+"px";
    noBtn.style.top=Math.random()*maxY+"px";
}
noBtn.addEventListener("click",moveNoButton);
noBtn.addEventListener("touchstart",moveNoButton);

/* YES CLICK */
yesBtn.addEventListener("click",function(){
    document.querySelector(".buttons").style.display="none";
    message.style.display="block";
    playlist.style.display="block";
    imageButtons.style.display="block";
    loveLetterBtn.style.display="block";
    celebrate();
});

/* ================= CELEBRATION ================= */
function celebrate(){
    startYesFall();
    startGifRain();

    // center burst hearts
    for(let i=0;i<30;i++){
        const heart=document.createElement("div");
        heart.className="burst-heart";
        heart.innerHTML="ğŸ’™";
        heart.style.left="50%";
        heart.style.top="50%";
        heart.style.setProperty('--x',(Math.random()-0.5)*window.innerWidth+"px");
        heart.style.setProperty('--y',(Math.random()-0.5)*window.innerHeight+"px");
        document.body.appendChild(heart);
        setTimeout(()=>heart.remove(),1200);
    }
}

/* Continuous falling hearts / roses */
function startYesFall(){
    if(yesFallInterval) clearInterval(yesFallInterval);
    yesFallInterval=setInterval(()=>{
        const item=document.createElement("div");
        item.className="fall-item";
        item.innerHTML=Math.random()>0.5?"ğŸ’™":"ğŸŒ¹";
        item.style.left=Math.random()*100+"vw";
        item.style.animationDuration=(Math.random()*3+4)+"s";
        item.style.fontSize=(Math.random()*12+18)+"px";
        document.body.appendChild(item);
        setTimeout(()=>item.remove(),8000);
    },250);
}

/* GIF RAIN */
function startGifRain(){
    if(gifInterval) clearInterval(gifInterval);
    gifInterval=setInterval(()=>{
        const gif=document.createElement("img");
        gif.className="love-gif";
        gif.src=loveGifs[Math.floor(Math.random()*loveGifs.length)];
        gif.style.left=Math.random()*80+"vw";
        gif.style.top=Math.random()*80+"vh";
        document.body.appendChild(gif);
        gif.onload=()=>setTimeout(()=>gif.remove(),3000);
        gif.onerror=()=>gif.remove();
    },1500);
}
</script>

</body>
</html>
